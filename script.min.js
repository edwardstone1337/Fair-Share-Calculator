function formatNumber(e){return e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}function animateCounter(e,a,t=300){let r=document.getElementById(e);if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)r.textContent=formatNumber(a);else{let s=0,l=(a-s)/(t/10),n=setInterval(function(){s+=l,(l>0&&s>=a||l<0&&s<=a)&&(s=a,clearInterval(n)),r.textContent=formatNumber(s)},10)}}function formatNumberWithCommas(e){e.classList.remove("input-error");var a=e.value.replace(/[^\d.,]/g,"").replace(/,/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",");e.value=a;var t=document.getElementById("error-display");t&&(t.style.display="none")}function resetResultsDisplay(){document.getElementById("results").style.display="none",document.getElementById("error-display").style.display="none"}function calculateShares(){var e=parseFloat(document.getElementById("salary1").value.replace(/,/g,"")),a=parseFloat(document.getElementById("salary2").value.replace(/,/g,"")),t=parseFloat(document.getElementById("expense").value.replace(/,/g,"")),r=!1;if(isNaN(e)||e<=0?(document.getElementById("salary1").classList.add("input-error"),r=!0):document.getElementById("salary1").classList.remove("input-error"),isNaN(a)||a<=0?(document.getElementById("salary2").classList.add("input-error"),r=!0):document.getElementById("salary2").classList.remove("input-error"),isNaN(t)||t<=0?(document.getElementById("expense").classList.add("input-error"),r=!0):document.getElementById("expense").classList.remove("input-error"),r){document.getElementById("error-display").innerHTML=`
            <div class="error-message" id="error-message" aria-live="assertive">
                <p>Oops! Looks like some numbers are missing. We need all of them to calculate your fair shares.</p>
            </div>
        `,document.getElementById("error-display").style.display="block",document.getElementById("error-message").scrollIntoView({behavior:"smooth",block:"nearest"});var s=document.querySelector(".headshake-container");s.classList.add("headshake"),s.addEventListener("animationend",()=>{s.classList.remove("headshake")});return}localStorage.setItem("salary1",document.getElementById("salary1").value),localStorage.setItem("salary2",document.getElementById("salary2").value);var l=e+a,n=e/l*t,i=a/l*t;document.getElementById("results").innerHTML=`
  <div class="share-container" id="share-container">
  <div class="share-container-text">
  <h2>Voil\xe0!</h2>
  <p>Your fair share breakdown:</p>
  
</div>
      <div class="share-container-boxes">
          <div class="share">
              <div class="share-title">Your Share</div>
              <div class="share-value" id="share1-placeholder"></div>
          </div>
          <div class="share">
              <div class="share-title">Partner's Share</div>
              <div class="share-value" id="share2-placeholder"></div>
          </div>
      </div>
      <div class="share-container-text"><span class="text">Remember, the Fair Share Calculator is all about making sharing expenses simple, fair, and above all, stress-free</span>
      <div class="emoji">ðŸ§˜</div>
      </div>
  </div>
  
`,document.getElementById("results").style.display="block",animateCounter("share1-placeholder",n,300),animateCounter("share2-placeholder",i,300),animateCounter("share1-placeholder",n,300),animateCounter("share2-placeholder",i,300),document.getElementById("share-container").scrollIntoView({behavior:"smooth",block:"nearest"})}window.onload=function(){localStorage.getItem("salary1")&&(document.getElementById("salary1").value=localStorage.getItem("salary1")),localStorage.getItem("salary2")&&(document.getElementById("salary2").value=localStorage.getItem("salary2"))},document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("myModal"),a=document.getElementById("howitworksBtn"),t=document.getElementById("closemodalLarge"),r=document.getElementsByClassName("close")[0];function s(){e.style.display="none"}a.onclick=function(){e.style.display="block",e.scrollTop=0},t.onclick=s,r.onclick=s,window.onclick=function(a){a.target==e&&s()}});